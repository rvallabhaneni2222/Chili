<?xml version="1.0" encoding="UTF-8"?>
<components xmlns="http://jboss.com/products/seam/components"
	xmlns:core="http://jboss.com/products/seam/core" xmlns:persistence="http://jboss.com/products/seam/persistence"
	xmlns:security="http://jboss.com/products/seam/security" xmlns:drools="http://jboss.com/products/seam/drools"
	xmlns:async="http://jboss.com/products/seam/async" xmlns:web="http://jboss.com/products/seam/web"
	xmlns:resteasy="http://jboss.com/products/seam/resteasy"
	xmlns:framework="http://jboss.com/products/seam/framework" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://jboss.com/products/seam/core http://jboss.com/products/seam/core-2.2.xsd
                 http://jboss.com/products/seam/persistence http://jboss.com/products/seam/persistence-2.2.xsd 
                 http://jboss.com/products/seam/components http://jboss.com/products/seam/components-2.2.xsd
                 http://jboss.com/products/seam/async http://jboss.com/products/seam/async-2.2.xsd
                 http://jboss.com/products/seam/web http://jboss.com/products/seam/web-2.2.xsd
                 http://jboss.com/products/seam/security http://jboss.com/products/seam/security-2.2.xsd
                 http://jboss.com/products/seam/resteasy http://jboss.com/products/seam/resteasy-2.2.xsd
                 http://jboss.com/products/seam/framework http://jboss.com/products/seam/framework-2.2.xsd
                 http://jboss.com/products/seam/drools http://jboss.com/products/seam/drools-2.2.xsd">

	<resteasy:application resource-path-prefix="/restv1">
	</resteasy:application>

	<web:authentication-filter url-pattern="/seam/resource/restv1/crud/*"
		auth-type="basic" />
		<!-- currently erroring out with stack overflow with multiple calls  -->
	<!-- <security:identity authenticate-method="#{AutomanageRestResource.authenticate}" /> -->
	
	<security:jpa-identity-store
		user-class="info.yalamanchili.security.jpa.YUser"
		role-class="info.yalamanchili.security.jpa.YRole" 
		entity-manager="#{yem}" />
	
		<persistence:managed-persistence-context name="yem"
		auto-create="true" persistence-unit-jndi-name="java:/yalamanchili"/>
		
		<persistence:managed-persistence-context name="em"
		auto-create="true" persistence-unit-jndi-name="java:/${$projectName}"/>



</components>